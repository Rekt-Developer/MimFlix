<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MimFlix - Dynamic Entertainment Platform</title>
    <link rel="icon" href="./logo.svg" type="image/svg+xml">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uuid/8.3.2/uuid.min.js"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // Configuration and Utility Functions
        const CONTENT_TYPES = {
            MOVIES: [
                { 
                    id: uuid.v4(), 
                    title: 'Cyber Horizon', 
                    description: 'Futuristic sci-fi thriller', 
                    genre: 'Sci-Fi', 
                    rating: 4.5,
                    poster: '/path/to/poster1.jpg'
                },
                { 
                    id: uuid.v4(), 
                    title: 'Digital Dreams', 
                    description: 'Mind-bending tech narrative', 
                    genre: 'Technology Drama', 
                    rating: 4.2,
                    poster: '/path/to/poster2.jpg'
                }
            ],
            BLOGS: [
                {
                    id: uuid.v4(),
                    title: 'Future of Streaming',
                    author: 'Tech Insights',
                    excerpt: 'Deep dive into next-generation entertainment technologies...',
                    date: '2024-01-15',
                    readTime: '5 min read'
                },
                {
                    id: uuid.v4(),
                    title: 'Cinema in Digital Age',
                    author: 'Film Enthusiast',
                    excerpt: 'How digital platforms are revolutionizing movie experiences...',
                    date: '2024-02-20',
                    readTime: '7 min read'
                }
            ],
            IPTV: [
                {
                    id: uuid.v4(),
                    name: 'Entertainment Hub',
                    category: 'Entertainment',
                    channels: 50,
                    description: 'Wide range of entertainment channels'
                },
                {
                    id: uuid.v4(),
                    name: 'Sports Network',
                    category: 'Sports',
                    channels: 30,
                    description: 'Live sports from around the globe'
                }
            ]
        };

        // Main Application Component
        const MimFlixApp = () => {
            const [activeSection, setActiveSection] = React.useState('home');
            const [selectedContent, setSelectedContent] = React.useState(null);

            // Deep Linking and URL Management
            React.useEffect(() => {
                const handleHashChange = () => {
                    const hash = window.location.hash.replace('#', '');
                    const [section, contentId] = hash.split('/');
                    
                    if (section) {
                        setActiveSection(section);
                        if (contentId) {
                            const content = CONTENT_TYPES[section.toUpperCase()]?.find(item => item.id === contentId);
                            setSelectedContent(content);
                        }
                    }
                };

                window.addEventListener('hashchange', handleHashChange);
                handleHashChange(); // Initial check

                return () => window.removeEventListener('hashchange', handleHashChange);
            }, []);

            // Navigation Handler
            const navigateTo = (section, content = null) => {
                setActiveSection(section);
                setSelectedContent(content);

                // Update URL for deep linking
                if (content) {
                    window.location.hash = `${section}/${content.id}`;
                } else {
                    window.location.hash = section;
                }
            };

            // Render Content Based on Active Section
            const renderContent = () => {
                switch(activeSection) {
                    case 'home':
                        return <HomePage />;
                    case 'movies':
                        return (
                            <MoviesSection 
                                movies={CONTENT_TYPES.MOVIES} 
                                onSelectMovie={(movie) => navigateTo('movies', movie)}
                                selectedMovie={selectedContent}
                            />
                        );
                    case 'blogs':
                        return (
                            <BlogsSection 
                                blogs={CONTENT_TYPES.BLOGS} 
                                onSelectBlog={(blog) => navigateTo('blogs', blog)}
                                selectedBlog={selectedContent}
                            />
                        );
                    case 'iptv':
                        return (
                            <IPTVSection 
                                channels={CONTENT_TYPES.IPTV}
                                onSelectChannel={(channel) => navigateTo('iptv', channel)}
                                selectedChannel={selectedContent}
                            />
                        );
                    default:
                        return <HomePage />;
                }
            };

            return (
                <div className="mimflix-container">
                    <header className="app-header">
                        <div className="logo-container">
                            <img src="./logo.svg" alt="MimFlix Logo" className="logo" />
                            <h1>MimFlix</h1>
                        </div>
                        <nav className="main-nav">
                            {['home', 'movies', 'blogs', 'iptv'].map(section => (
                                <button 
                                    key={section}
                                    className={`nav-btn ${activeSection === section ? 'active' : ''}`}
                                    onClick={() => navigateTo(section)}
                                >
                                    {section.charAt(0).toUpperCase() + section.slice(1)}
                                </button>
                            ))}
                        </nav>
                    </header>

                    <main className="content-area">
                        {renderContent()}
                    </main>

                    <footer className="app-footer">
                        <p>Â© 2024 MimFlix. All Rights Reserved.</p>
                    </footer>
                </div>
            );
        };

        // Individual Section Components
        const HomePage = () => (
            <div className="home-section">
                <h2>Welcome to MimFlix</h2>
                <p>Your ultimate entertainment destination</p>
            </div>
        );

        const MoviesSection = ({ movies, onSelectMovie, selectedMovie }) => {
            if (selectedMovie) {
                return (
                    <div className="movie-detail">
                        <h2>{selectedMovie.title}</h2>
                        <img src={selectedMovie.poster} alt={selectedMovie.title} />
                        <p>{selectedMovie.description}</p>
                        <p>Genre: {selectedMovie.genre}</p>
                        <p>Rating: {selectedMovie.rating}/5</p>
                        <button onClick={() => onSelectMovie(null)}>Back to Movies</button>
                    </div>
                );
            }

            return (
                <div className="movies-grid">
                    {movies.map(movie => (
                        <div 
                            key={movie.id} 
                            className="movie-card"
                            onClick={() => onSelectMovie(movie)}
                        >
                            <img src={movie.poster} alt={movie.title} />
                            <h3>{movie.title}</h3>
                            <p>{movie.genre}</p>
                        </div>
                    ))}
                </div>
            );
        };

        const BlogsSection = ({ blogs, onSelectBlog, selectedBlog }) => {
            if (selectedBlog) {
                return (
                    <div className="blog-detail">
                        <h2>{selectedBlog.title}</h2>
                        <p>By {selectedBlog.author}</p>
                        <p>{selectedBlog.excerpt}</p>
                        <p>Published: {selectedBlog.date}</p>
                        <button onClick={() => onSelectBlog(null)}>Back to Blogs</button>
                    </div>
                );
            }

            return (
                <div className="blogs-list">
                    {blogs.map(blog => (
                        <div 
                            key={blog.id} 
                            className="blog-card"
                            onClick={() => onSelectBlog(blog)}
                        >
                            <h3>{blog.title}</h3>
                            <p>{blog.excerpt}</p>
                            <div className="blog-meta">
                                <span>{blog.author}</span>
                                <span>{blog.readTime}</span>
                            </div>
                        </div>
                    ))}
                </div>
            );
        };

        const IPTVSection = ({ channels, onSelectChannel, selectedChannel }) => {
            if (selectedChannel) {
                return (
                    <div className="channel-detail">
                        <h2>{selectedChannel.name}</h2>
                        <p>Category: {selectedChannel.category}</p>
                        <p>Total Channels: {selectedChannel.channels}</p>
                        <p>{selectedChannel.description}</p>
                        <button onClick={() => onSelectChannel(null)}>Back to Channels</button>
                    </div>
                );
            }

            return (
                <div className="channels-grid">
                    {channels.map(channel => (
                        <div 
                            key={channel.id} 
                            className="channel-card"
                            onClick={() => onSelectChannel(channel)}
                        >
                            <h3>{channel.name}</h3>
                            <p>{channel.category}</p>
                            <p>{channel.channels} Channels</p>
                        </div>
                    ))}
                </div>
            );
        };

        // Render the Application
        ReactDOM.render(<MimFlixApp />, document.getElementById('root'));
    </script>

    <style>
        :root {
            --primary-color: #6200ee;
            --secondary-color: #03dac6;
            --background-color: #121212;
            --text-color: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        .mimflix-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .app-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--secondary-color);
        }

        .logo-container {
            display: flex;
            align-items: center;
        }

        .logo {
            max-height: 50px;
            margin-right: 15px;
        }

        .main-nav {
            display: flex;
            gap: 20px;
        }

        .nav-btn {
            background: transparent;
            border: none;
            color: var(--text-color);
            font-weight: 500;
            cursor: pointer;
            position: relative;
            transition: color 0.3s ease;
        }

        .nav-btn.active {
            color: var(--secondary-color);
        }

        .nav-btn::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--secondary-color);
            transition: width 0.3s ease;
        }

        .nav-btn.active::after {
            width: 100%;
        }

        .content-area {
            min-height: 70vh;
        }

        .movies-grid, .blogs-list, .channels-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }

        .movie-card, .blog-card, .channel-card {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .movie-card:hover, .blog-card:hover, .channel-card:hover {
            transform: scale(1.05);
        }

        .app-footer {
            text-align: center;
            padding: 20px;
            margin-top: 30px;
            border-top: 2px solid var(--secondary-color);
        }
    </style>
</body>
</html>
